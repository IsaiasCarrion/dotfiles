# Usamos la imagen de Ubuntu como base
FROM ubuntu:latest

# Evita preguntas interactivas durante la instalaci칩n de paquetes
ENV DEBIAN_FRONTEND=noninteractive

# Instala sudo y git para que el script de instalaci칩n funcione
RUN apt-get update && \
    apt-get install -y sudo git curl wget

# Crea el usuario 'izzy' con sudo y configura su shell por defecto a bash
# y crea el directorio de trabajo para el usuario
RUN useradd -ms /bin/bash izzy && \
    adduser izzy sudo && \
    echo 'izzy:izzy' | chpasswd && \
    mkdir -p /home/izzy/dotfiles && \
    chown izzy:izzy /home/izzy/dotfiles

# Copia los archivos de tu repositorio al directorio del usuario izzy
# Asume que install.sh y la carpeta dotfiles est치n en el mismo directorio que el Dockerfile
COPY install.sh /home/izzy/install.sh
COPY dotfiles /home/izzy/dotfiles/dotfiles

# Da permisos de ejecuci칩n al script
RUN chmod +x /home/izzy/install.sh

# Cambia al usuario 'izzy' y configura su directorio de trabajo
USER izzy
WORKDIR /home/izzy

# Comando por defecto para iniciar el contenedor
CMD ["/bin/bash"]
